# This Python 3 environment comes with many helpful analytics libraries installed
# It is defined by the kaggle/python docker image: https://github.com/kaggle/docker-python
# For example, here's several helpful packages to load in 

import numpy as np # linear algebra
import pandas as pd # data processing, CSV file I/O (e.g. pd.read_csv)

# Input data files are available in the "../input/" directory.
# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory

import os
print(os.listdir("../input"))

# Any results you write to the current directory are saved as output.
train=pd.read_csv('../input/train.csv',nrows=1000)
train.head(10)
train.HasDetections.value_counts()
no_detections=train.loc[train['HasDetections']==0]
no_detections
train['HasTpm'].value_counts()
train.OsBuild.value_counts().plot.bar()
train.Census_OSEdition.value_counts()
def convert_bool(feature):
    train[feature]=train[feature].astype('bool')
    train[feature]=train[feature].astype('int')
    return train[feature]
train.IsProtected.dtype
convert_bool('Firewall')
convert_bool('AVProductsEnabled')
convert_bool('IsProtected')
convert_bool('UacLuaenable')


train['Census_ChassisTypeName'].value_counts()
train.Census_ChassisTypeName.value_counts()
from sklearn.preprocessing import LabelEncoder

l=LabelEncoder()
OS_Arch=LabelEncoder()
encoded_labels_ChasisType=l.fit_transform(train['Census_ChassisTypeName'])
train['Census_ChassisTypeName']=encoded_labels_ChasisType

Arch=OS_Arch.fit_transform(train['Census_OSArchitecture'])
train['Census_OSArchitecture']=Arch
train['Census_ChassisTypeName'].value_counts()

for i,v in enumerate(l.classes_):
    print(i,v)
train['Census_PowerPlatformRoleName'].value_counts()
train['Census_FlightRing'].value_counts()

new_feature=[]

new_feature=list(zip(train['Census_PowerPlatformRoleName'],train['HasDetections']))

train['Detection_Platform']=new_feature
train.Detection_Platform.value_counts().plot.bar()
train.dtypes


for i,v in enumerate(OS_Arch.classes_):
    print(i,v)
train['Census_TotalPhysicalRAM'].value_counts()
train['Census_ChassisTypeName']
train.columns[0:50]

for i in train.columns[0:85]:
    print("###################")
    print(i)
    print(train[i].value_counts())




train['OSBuild_Detections']=list(zip(train['OsBuildLab'],train['HasDetections']))
plt.figure(figsize=(20,11))
train['OSBuild_Detections'].value_counts().plot.bar()

len(set(train['OsBuildLab']))
len(set(train['OSBuild_Detections']))
train['OSBuild_Detections'].value_counts()
train['OsSuite'].value_counts()
